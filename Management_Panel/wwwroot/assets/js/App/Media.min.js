/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(global,factory){if("function"==typeof define&&define.amd)define("/App/Media",["exports","BaseApp"],factory);else if("undefined"!=typeof exports)factory(exports,require("BaseApp"));else{var mod={exports:{}};factory(mod.exports,global.BaseApp),global.AppMedia=mod.exports}}(this,function(exports,_BaseApp2){"use strict";function getInstance(){return instance||(instance=new AppMedia),instance}function run(){var app=getInstance();app.run()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInstance=exports.run=exports.AppMedia=void 0;var _BaseApp3=babelHelpers.interopRequireDefault(_BaseApp2),AppMedia=function(_BaseApp){function AppMedia(){return babelHelpers.classCallCheck(this,AppMedia),babelHelpers.possibleConstructorReturn(this,(AppMedia.__proto__||Object.getPrototypeOf(AppMedia)).apply(this,arguments))}return babelHelpers.inherits(AppMedia,_BaseApp),babelHelpers.createClass(AppMedia,[{key:"processed",value:function(){babelHelpers.get(AppMedia.prototype.__proto__||Object.getPrototypeOf(AppMedia.prototype),"processed",this).call(this),this.$arrGrid=$("#arrangement-grid"),this.$arrList=$("#arrangement-list"),this.$actionBtn=$(".site-action"),this.$actionToggleBtn=this.$actionBtn.find(".site-action-toggle"),this.$content=$("#mediaContent"),this.$fileupload=$("#fileupload"),this.steupArrangement(),this.setupActionBtn(),this.bindListChecked(),this.bindAction(),this.bindDropdownAction()}},{key:"getDefaultState",value:function(){return Object.assign(babelHelpers.get(AppMedia.prototype.__proto__||Object.getPrototypeOf(AppMedia.prototype),"getDefaultState",this).call(this),{list:!1,checked:!1})}},{key:"getDefaultActions",value:function(){return Object.assign(babelHelpers.get(AppMedia.prototype.__proto__||Object.getPrototypeOf(AppMedia.prototype),"getDefaultActions",this).call(this),{list:function(active){active?(this.$arrGrid.removeClass("active"),this.$arrList.addClass("active"),$(".media-list").removeClass("is-grid").addClass("is-list"),$(".media-list>ul>li").removeClass("animation-scale-up").addClass("animation-fade")):(this.$arrList.removeClass("active"),this.$arrGrid.addClass("active"),$(".media-list").removeClass("is-list").addClass("is-grid"),$(".media-list>ul>li").removeClass("animation-fade").addClass("animation-scale-up"))},checked:function(_checked){var api=this.$actionBtn.actionBtn().data("actionBtn");_checked?api.show():api.hide()}})}},{key:"steupArrangement",value:function(){var self=this;this.$arrGrid.on("click",function(){$(this).hasClass("active")||self.setState("list",!1)}),this.$arrList.on("click",function(){$(this).hasClass("active")||self.setState("list",!0)})}},{key:"setupActionBtn",value:function(){var _this2=this;this.$actionToggleBtn.on("click",function(e){_this2.getState("checked")||(_this2.$fileupload.trigger("click"),e.stopPropagation())})}},{key:"bindListChecked",value:function(){var _this3=this;this.$content.on("asSelectable::change",function(e,api,checked){_this3.setState("checked",checked)})}},{key:"bindDropdownAction",value:function(){$(".info-wrap>.dropdown").on("show.bs.dropdown",function(){$(this).closest(".media-item").toggleClass("item-active")}).on("hidden.bs.dropdown",function(){$(this).closest(".media-item").toggleClass("item-active")}),$(".info-wrap .dropdown-menu").on("`click",function(e){e.stopPropagation()})}},{key:"bindAction",value:function(){$('[data-action="trash"]',".site-action").on("click",function(){}),$('[data-action="download"]',".site-action").on("click",function(){})}}]),AppMedia}(_BaseApp3.default),instance=null;exports.default=AppMedia,exports.AppMedia=AppMedia,exports.run=run,exports.getInstance=getInstance});