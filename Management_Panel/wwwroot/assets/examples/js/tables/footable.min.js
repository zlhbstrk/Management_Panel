/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(document,window,$){"use strict";var Site=window.Site;$(document).ready(function($){Site.run()}),function(){$("#exampleRowToggler").footable({toggleColumn:"first",showToggle:!0,expandFirst:!0})}(),function(){$("#exampleFooAccordion").footable()}(),function(){$("#exampleFooCollapse").footable()}(),function(){$("#exampleNoHeaders").footable()}(),function(){$("#examplePagination").footable(),$("#exampleShow [data-page-size]").on("click",function(e){e.preventDefault();var pagesize=$(this).data("pageSize");FooTable.get("#examplePagination").pageSize(pagesize)})}(),function(){$("#exampleCustomFilter").footable(),$(".filter-ui-status").on("change",function(){var filtering=FooTable.get("#exampleCustomFilter").use(FooTable.Filtering),filter=$(this).val();"none"===filter?filtering.removeFilter("status"):filtering.addFilter("status",filter,["status"]),filtering.filter()})}(),function(){$("#exampleModal").footable({useParentWidth:!0})}(),function(){$("#exampleLoading").footable();var loading=FooTable.get("#exampleLoading");$(".append-rows").on("click",function(e){e.preventDefault();var url=$(this).data("url");$.get(url).then(function(rows){loading.rows.load(rows)})})}(),function(){FooTable.MyFiltering=FooTable.Filtering.extend({construct:function(instance){this._super(instance),this.statuses=["Active","Disabled","Suspended"],this.def="Any Status",this.$status=null},$create:function(){this._super();var self=this,$form_grp=$("<div/>",{class:"form-group"}).append($("<label/>",{class:"sr-only",text:"Status"})).prependTo(self.$form);self.$status=$("<select/>",{class:"form-control"}).on("change",{self:self},self._onStatusDropdownChanged).append($("<option/>",{text:self.def})).appendTo($form_grp),$.each(self.statuses,function(i,status){self.$status.append($("<option/>").text(status))})},_onStatusDropdownChanged:function(e){var self=e.data.self,selected=$(this).val();selected!==self.def?self.addFilter("status",selected,["status"]):self.removeFilter("status"),self.filter()},draw:function(){this._super();var status=this.find("status");status instanceof FooTable.Filter?this.$status.val(status.query.val()):this.$status.val(this.def)}}),FooTable.components.register("filtering",FooTable.MyFiltering);var filtering=$("#exampleFootableFiltering");filtering.footable()}(),function(){var $modal=$("#editor-modal"),$editor=$("#editor"),$editorTitle=$("#editor-title"),ft=FooTable.init("#exampleFooEditing",{editing:{enabled:!0,addRow:function(){$modal.removeData("row"),$editor[0].reset(),$editorTitle.text("Add a new row"),$modal.modal("show")},editRow:function(row){var values=row.val();$editor.find("#id").val(values.id),$editor.find("#firstName").val(values.firstName),$editor.find("#lastName").val(values.lastName),$editor.find("#jobTitle").val(values.jobTitle),$editor.find("#startedOn").val(values.startedOn.format("YYYY-MM-DD")),$editor.find("#dob").val(values.dob.format("YYYY-MM-DD")),$modal.data("row",row),$editorTitle.text("Edit row #"+values.id),$modal.modal("show")},deleteRow:function(row){confirm("Are you sure you want to delete the row?")&&row.delete()}}}),uid=10;$editor.on("submit",function(e){if(!this.checkValidity||this.checkValidity()){e.preventDefault();var row=$modal.data("row"),values={id:$editor.find("#id").val(),firstName:$editor.find("#firstName").val(),lastName:$editor.find("#lastName").val(),jobTitle:$editor.find("#jobTitle").val(),startedOn:moment($editor.find("#startedOn").val(),"YYYY-MM-DD"),dob:moment($editor.find("#dob").val(),"YYYY-MM-DD")};row instanceof FooTable.Row?row.val(values):(values.id=uid++,ft.rows.add(values)),$modal.modal("hide")}})}()}(document,window,jQuery);